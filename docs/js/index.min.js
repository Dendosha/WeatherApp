!function(){"use strict";const t="57a9686eda6f4fa3ae2124524240704",e=`http://api.weatherapi.com/v1/current.json?key=${t}&lang=ru&`,n=`http://api.weatherapi.com/v1//forecast.json?key=${t}&days=7&lang=ru&`;navigator.geolocation.getCurrentPosition((t=>{p(`${t.coords.latitude},${t.coords.longitude}`,!0)}));const a=document.forms["search-form"],o=document.querySelector(".weather-forecast"),r=document.getElementById("forecast-slider"),c=document.getElementById("open-forecast-button"),i=c.parentElement,s=document.querySelector(".weather-current"),d=document.getElementById("current-weather-update-button"),l=document.getElementById("current-weather-city"),u=document.getElementById("current-weather-condition-icon"),m=document.getElementById("current-weather-condition-text"),f=document.getElementById("current-weather-temprature-value");async function p(t,a){const o=await fetch(`${e}&q=${t}`);if(o.ok){const t=await o.json();i.classList.add("--visible"),s.classList.add("--visible"),l.innerText=t.location.name,u.src=t.current.condition.icon,m.innerText=t.current.condition.text,f.innerText=Math.round(t.current.temp_c)}if(a){const e=await fetch(`${n}&q=${t}`);if(e.ok){const t=await e.json(),n=Intl.DateTimeFormat("ru-RU",{weekday:"long"});r.scrollTo({left:0,behavior:"smooth"}),r.innerHTML="",t.forecast.forecastday.forEach((t=>{const e=new Date(t.date);let a=n.format(e);a=a[0].toUpperCase()+a.slice(1),r.insertAdjacentHTML("beforeend",`\n\t\t\t\t\t<div class="weather-forecast__day-info forecast-day-info">\n\t\t\t\t\t\t<p class="forecast-day-info__weekday">${a}</p>\n\t\t\t\t\t\t<img src="${t.day.condition.icon}" alt="Состояние" class="forecast-day-info__condition-icon condition-icon">\n\t\t\t\t\t\t<p class="forecast-day-info__temprature temprature">\n\t\t\t\t\t\t\t<span class="forecast-day-info__temprature-value">${Math.round(t.day.avgtemp_c)}</span>\n\t\t\t\t\t\t\t<span class="forecast-day-info__temprature-symbol">°C</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p class="forecast-day-info__condition-text condition-text">${t.day.condition.text}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t`)}))}}}a.addEventListener("submit",(t=>{t.preventDefault(),p(a.elements["search-input"].value,!0),a.reset()})),c.addEventListener("click",(t=>{o.classList.toggle("--visible"),c.innerText="Показать прогноз на неделю"===c.innerText?c.innerText="Скрыть прогноз на неделю":c.innerText="Показать прогноз на неделю"})),d.addEventListener("click",(t=>{d.classList.add("--active"),p(l.innerText,!1)})),d.addEventListener("animationend",(t=>{d.classList.remove("--active")}))}();